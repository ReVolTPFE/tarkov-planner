generator client {
    provider = "prisma-client"
    output 	 = "../generated/prisma"
}

datasource db {
    provider = "mysql"
}

model Room {
    id        Int       @id @default(autoincrement())
    uuid      String    @unique @default(uuid())
    createdAt DateTime  @default(now())
    drawings  Drawing[]

    @@map("room")
}

model Drawing {
    id      Int  @id @default(autoincrement())
    roomId  Int
    room    Room @relation(fields: [roomId], references: [id])
    mapId   Int
    map     Map  @relation(fields: [mapId], references: [id])
    content Json

    @@map("drawing")
}

model Map {
    id       Int       @id @default(autoincrement())
    slug     String    @unique
    image    String
    drawings Drawing[]

    @@map("map")
}
